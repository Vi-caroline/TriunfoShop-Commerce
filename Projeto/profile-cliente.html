<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Cliente - TriunfoShop</title>
    <link rel="stylesheet" href="styles-improved.css">
    <link rel="stylesheet" href="styles-mobile.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .cliente-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: #fff;
            padding: 2rem 0 1rem 0;
            text-align: center;
        }
        .cliente-header h1 {
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }
        .cliente-header p {
            font-size: 1.1rem;
            color: #f3f3f3;
        }
        .cliente-menu {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
        }
        .cliente-menu a {
            background: #fff;
            color: var(--primary-color);
            padding: 1.2rem 2.5rem;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 600;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.7rem;
            transition: background 0.2s, color 0.2s;
        }
        .cliente-menu a:hover {
            background: var(--primary-color);
            color: #fff;
        }
        .cliente-content {
            max-width: 700px;
            margin: 0 auto;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.07);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        @media (max-width: 600px) {
            .cliente-menu {
                flex-direction: column;
                gap: 1rem;
            }
            .cliente-content {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div style="display:flex;align-items:center;justify-content:space-between;width:100%;position:relative;">
                    <div class="logo">
                        <h1>
                            <img class="logo-img" src="./logo.png" alt="Logo" width="40" height="40" style="margin-right: 8px; vertical-align: middle;">
                            <span class="logo-text">TriunfoShop</span>
                        </h1>
                    </div>
                    <div style="display:flex;align-items:center;gap:16px;">
                        <a href="../index.html" class="header-btn" style="background:rgba(142,68,173,0.18);color:#fff;padding:0.7rem 1.5rem;border-radius:10px;font-size:1rem;font-weight:600;display:flex;align-items:center;gap:0.5rem;text-decoration:none;"><i class="fas fa-store"></i> Loja</a>
                        <button id="btn-carrinho" style="background:#8e44ad;color:#fff;border:none;padding:0.7rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;z-index:10;display:flex;align-items:center;gap:0.5rem;"><i class="fas fa-shopping-cart"></i> Carrinho</button>
                        <button id="logoutBtn" style="background:#e74c3c;color:#fff;border:none;padding:0.7rem 1.5rem;border-radius:8px;font-size:1rem;font-weight:600;cursor:pointer;z-index:10;display:flex;align-items:center;gap:0.5rem;"><i class="fas fa-sign-out-alt"></i> Sair</button>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <main class="products" style="background: #f7f9fb; min-height: 80vh;">
        <div class="container">
            <div class="products-header">
                <div class="products-info">
                    <h3 style="font-size:2rem; font-weight:700; color:#222;">Produtos para Comprar</h3>
                </div>
            </div>
            <div style="margin-bottom:2rem;display:flex;justify-content:center;">
                <div style="background:linear-gradient(135deg,#8e44ad,#7d3c98);color:#fff;padding:1.2rem 2.5rem;border-radius:14px;font-size:1.25rem;font-weight:600;box-shadow:0 2px 10px rgba(142,68,173,0.10);text-align:center;">
                    üõçÔ∏è Aproveite as melhores ofertas do dia! Produtos selecionados para voc√™ economizar e se surpreender. Boas compras!
                </div>
            </div>
            <div class="products-grid" id="productList" style="gap:2.5rem;"></div>
            <!-- Pagina√ß√£o removida conforme solicitado -->
        </div>
    </main>

    <!-- Modal do Carrinho/Pedido -->
    <div id="modal-carrinho" style="display:none;position:fixed;z-index:9999;left:0;top:0;width:100vw;height:100vh;background:rgba(0,0,0,0.4);align-items:center;justify-content:center;">
        <div style="background:#fff;max-width:400px;width:90vw;padding:2rem 1.5rem;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.18);position:relative;">
            <button id="fechar-modal-carrinho" style="position:absolute;top:10px;right:10px;background:none;border:none;font-size:1.5rem;color:#888;cursor:pointer;">&times;</button>
            <h3 style="margin-top:0"><i class="fas fa-shopping-cart"></i> Seu Carrinho</h3>
            <div id="detalhes-pedido"></div>
            <div id="total-carrinho" style="margin-top:1rem;font-weight:bold;"></div>
            <button id="finalizar-compra" style="width:100%;background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;padding:0.8rem 0;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;margin-top:1rem;">Finalizar Compra</button>
        </div>
    </div>

    <script>
    // Produtos reais (apenas 8)
    const produtos = [
    { id: 'PROD-0001', nome: 'Smart TV Lenovo 55" 4K UHD', preco: 1204.84, estoque: 0, imagem: 'https://images.samsung.com/is/image/samsung/p6pim/br/un55au7700gxzd/gallery/br-uhd-4k-tv-un55au7700gxzd---532138317?$650_519_PNG$', categoria: 'Eletr√¥nicos' },
    { id: 'PROD-0002', nome: 'Bicicleta Penalty Aro 29 21v', preco: 1597.43, estoque: 28, imagem: 'https://images.tcdn.com.br/img/img_prod/1023283/bicicleta_aro_29_caloi_supra_aluminio_21v_6417_2_c15df2c3d0975c31b62e7e13f49006d9.jpg', categoria: 'Esportes' },
    { id: 'PROD-0003', nome: 'Fone Bluetooth JBL com Cancelamento de Ru√≠do', preco: 493.25, estoque: 20, imagem: 'https://tse3.mm.bing.net/th/id/OIP.pZWrtxl1DyKnBoNkNZWlRgHaHa?rs=1&pid=ImgDetMain&o=7&rm=3', categoria: 'Eletr√¥nicos' },
    { id: 'PROD-0004', nome: 'Skate Puma Maple 8.0"', preco: 548.22, estoque: 30, imagem: 'https://tse1.mm.bing.net/th/id/OIP.F88QatgDd6aUetENfadZCwHaHa?rs=1&pid=ImgDetMain&o=7&rm=3', categoria: 'Esportes' },
    { id: 'PROD-0005', nome: 'Bicicleta Puma Aro 29 21v', preco: 1677.09, estoque: 8, imagem: 'https://tse1.mm.bing.net/th/id/OIP.Z5e9vM36a6aFCoDqC_iF6gHaHa?rs=1&pid=ImgDetMain&o=7&rm=3', categoria: 'Esportes' },
    { id: 'PROD-0006', nome: 'Liquidificador Philco 800W Inox', preco: 136.05, estoque: 25, imagem: 'https://tse3.mm.bing.net/th/id/OIP.pgeIQaXPqN5uoM363qEK3QHaFj?rs=1&pid=ImgDetMain&o=7&rm=3', categoria: 'Eletrodom√©sticos' },
    { id: 'PROD-0007', nome: 'Aspirador Rob√¥ Mondial Wi-Fi', preco: 1208.14, estoque: 40, imagem: 'https://a-static.mlcdn.com.br/800x560/robo-aspirador-de-po-mondial-multi-clean-rb-09-bivolt/luxgolden1/48563/e062d999567e3721b31a4ece515a34dd.jpeg', categoria: 'Eletrodom√©sticos' },
    { id: 'PROD-0014', nome: 'Aspirador Rob√¥ Brit√¢nia Wi-Fi', preco: 768.28, estoque: 26, imagem: 'https://loja.ctmd.eng.br/87863-thickbox/aspirador-de-po-robo-britania-c-funcao-mop-bivolt.jpg', categoria: 'Eletrodom√©sticos' }
    ];

    // Renderiza produtos
    function renderProdutos() {
        const list = document.getElementById('productList');
        list.innerHTML = '';
        produtos.forEach(prod => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.style.background = '#fff';
            card.style.borderRadius = '8px';
            card.style.boxShadow = '0 2px 8px rgba(0,0,0,0.08)';
            card.style.padding = '16px';
            card.style.width = '220px';
            card.style.display = 'flex';
            card.style.flexDirection = 'column';
            card.style.alignItems = 'center';
            card.innerHTML = `
                <img src="${prod.imagem}" alt="${prod.nome}" style="width:120px;height:120px;object-fit:contain;margin-bottom:12px;">
                <h3 style="font-size:1.1rem;margin:0 0 8px 0;">${prod.nome}</h3>
                <p style="margin:0 0 8px 0;color:#444;">R$ ${prod.preco.toFixed(2)}</p>
                <p style="margin:0 0 12px 0;color:#888;font-size:0.95em;">Estoque: ${prod.estoque}</p>
                <button data-id="${prod.id}" class="btn-primary btn-add-carrinho" style="width:160px;height:40px;background:linear-gradient(135deg,#8e44ad,#7d3c98);color:#fff;border:none;border-radius:8px;padding:0;font-size:1rem;font-weight:600;box-shadow:0 2px 8px rgba(142,68,173,0.10);margin-top:8px;cursor:pointer;transition:background 0.2s;display:block;" ${prod.estoque === 0 ? 'disabled style="background:#e0e0e0;color:#fff;cursor:not-allowed;"' : ''}>${prod.estoque === 0 ? 'Esgotado' : 'Adicionar ao Carrinho'}</button>
            `;
            if (prod.estoque > 0) {
                card.querySelector('button').addEventListener('click', () => addToCart(prod.id));
            }
            list.appendChild(card);
        });
    }

    // Carrinho
    function getCart() {
        return JSON.parse(localStorage.getItem('cart')) || [];
    }
    function setCart(cart) {
        localStorage.setItem('cart', JSON.stringify(cart));
    }
    function addToCart(id) {
        let cart = getCart();
        const prod = produtos.find(p => p.id === id);
        const item = cart.find(i => i.id === id);
        if (item) {
            item.qtd += 1;
        } else {
            cart.push({ id: prod.id, nome: prod.nome, preco: prod.preco, qtd: 1 });
        }
        setCart(cart);
        showAddToCartModal(prod.nome);
    }

    // Modal customizado para produto adicionado
    function showAddToCartModal(produtoNome) {
        let modal = document.getElementById('modal-addcart');
        if (!modal) {
            modal = document.createElement('div');
            modal.id = 'modal-addcart';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100vw';
            modal.style.height = '100vh';
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';
            modal.style.zIndex = '99999';
            modal.innerHTML = `
                <div style="background: #fff; border-radius: 16px; box-shadow: 0 8px 32px rgba(0,0,0,0.18); padding: 2.5rem 2.5rem 2rem 2.5rem; min-width: 320px; max-width: 90vw; text-align: center; position: relative;">
                    <span id="close-addcart-modal" style="position:absolute;top:12px;right:18px;font-size:1.5rem;color:#888;cursor:pointer;">&times;</span>
                    <div style="font-size:2.5rem;color:#4caf50;margin-bottom:0.5rem;">&#10003;</div>
                    <div style="font-size:1.2rem;font-weight:600;margin-bottom:0.5rem;">Produto adicionado ao carrinho!</div>
                    <div style="color:#555;font-size:1.05rem;margin-bottom:1.2rem;">${produtoNome}</div>
                    <button id="ok-addcart-modal" style="background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));color:#fff;padding:0.7rem 2.2rem;border:none;border-radius:8px;font-size:1.1rem;font-weight:600;cursor:pointer;">OK</button>
                </div>
            `;
            document.body.appendChild(modal);
        } else {
            modal.style.display = 'flex';
            modal.querySelector('div > div:nth-child(3)').textContent = produtoNome;
        }
        // Fechar modal
        modal.querySelector('#close-addcart-modal').onclick = function() {
            modal.style.display = 'none';
        };
        modal.querySelector('#ok-addcart-modal').onclick = function() {
            modal.style.display = 'none';
        };
        setTimeout(() => {
            if (modal.style.display !== 'none') modal.style.display = 'none';
        }, 2000);
    }

    // Modal Carrinho
    document.getElementById('btn-carrinho').addEventListener('click', function(e) {
        e.preventDefault();
        renderCartModal();
        var modal = document.getElementById('modal-carrinho');
        modal.style.display = 'flex';
        modal.style.alignItems = 'center';
        modal.style.justifyContent = 'center';
    });
    document.getElementById('fechar-modal-carrinho').addEventListener('click', function() {
        document.getElementById('modal-carrinho').style.display = 'none';
    });
    document.getElementById('modal-carrinho').addEventListener('click', function(e) {
        if (e.target === this) this.style.display = 'none';
    });

    function renderCartModal() {
        const cart = getCart();
        const detalhes = document.getElementById('detalhes-pedido');
        const totalDiv = document.getElementById('total-carrinho');
        const finalizarBtn = document.getElementById('finalizar-compra');
        if (cart.length === 0) {
            detalhes.innerHTML = '<p>Seu carrinho est√° vazio.</p>';
            totalDiv.textContent = '';
            finalizarBtn.textContent = 'OK';
            finalizarBtn.onclick = function() {
                document.getElementById('modal-carrinho').style.display = 'none';
            };
            return;
        } else {
            finalizarBtn.textContent = 'Finalizar Compra';
            finalizarBtn.onclick = function() {
                alert('Compra finalizada! Obrigado por comprar conosco.');
                setCart([]);
                renderCartModal();
            };
        }
        let total = 0;
        detalhes.innerHTML = '';
        cart.forEach(item => {
            const prod = produtos.find(p => p.id === item.id);
            if (!prod) return; // ignora itens inv√°lidos
            total += prod.preco * item.qtd;
            const div = document.createElement('div');
            div.style.display = 'flex';
            div.style.alignItems = 'center';
            div.style.gap = '1rem';
            div.style.marginBottom = '12px';
            div.innerHTML = `
                <img src="${prod.imagem}" alt="${prod.nome}" style="width:60px;height:60px;object-fit:contain;border-radius:8px;border:1px solid #eee;">
                <div style="flex:1;">
                    <strong>${prod.nome}</strong><br>
                    Qtd: ${item.qtd} &nbsp; R$ ${(prod.preco * item.qtd).toFixed(2)}
                </div>
            `;
            detalhes.appendChild(div);
        });
        totalDiv.textContent = 'Total: R$ ' + total.toFixed(2);
    }

    document.getElementById('finalizar-compra').onclick = function() {
        alert('Compra finalizada! Obrigado por comprar conosco.');
        setCart([]);
        renderCartModal();
    };

    // Inicializa√ß√£o
    renderProdutos();
    </script>
</body>
</html>
